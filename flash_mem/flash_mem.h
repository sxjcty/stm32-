#ifndef __FLASH_MEM_H_
#define __FLASH_MEM_H_
#include "sys.h"

//#include "bsp.h"//可能会用到其他地方的函数，没有就注释掉
//默认的用户名和密码
#define username admin
#define passWord "123456"

//默认的设备ID号，硬件设计时应预留多余的串口调试，串口用于输出调试信息和写设备ID号
#define DEV_ID "20190412001"
//使用者的身份ID，比如家里有好几位测血糖的，区分用户,使用结构体来完成程序的设计与数据的处理
#define USER_ID "001"//可以移到结构体里面
//版本号
#define VER "1.0"


//地址分配，规定每4K为一个扇区，总共512个扇区。
//前16K字节存放配置信息，每种配置信息分配32个字节，每种配置信息占用的字节数根据实际情况来定
#define ADDR_USERNAME 	(32*0)	//用户名存放的地址，长度不可超过32
#define ADDR_PASSWORD 	(32*1)	//密码存放的地址，长度不可超过32
#define ADDR_IDCODE 		(32*2)	//ID号存放地址，一般用16进制存
#define ADDR_UPDATE			(32*3)	//存放升级信息
#define ADDR_DATA_SR    (128*1) //用来存放数据的存储状态长度为 256

//从第16K开始存LOG文件
#define ADDR_LOG_CFG		(4096*4)	//第四个扇区开始存放LOG配置文件，16K字节的位置，占用4K字节
#define ADDR LOG				(4096*5)	//第五个扇区开始存放LOG文件，20K字节的位置，占用480K字节(120个扇区)

//从第512K开始存放数据文件
#define ADDR_DATA_CFG		(4096*128)	//数据文件配置信息,占用一个扇区
//数据文件，占用1020K字节(255个扇区)，可详细划分。
#define ADDR_DATA_1 	(4096*129)
#define ADDR_DATA_2   (4096*130)
#define ADDR_DATA_3	  (4096*131)
#define ADDR_DATA_4 	(4096*132)
#define ADDR_DATA_5	  (4096*133)
#define ADDR_DATA_6  	(4096*134)
#define ADDR_DATA_7	  (4096*135)
#define ADDR_DATA_8	  (4096*136)
#define ADDR_DATA_9	  (4096*137)
#define ADDR_DATA_10	(4096*138)
#define ADDR_DATA_11	(4096*139)
#define ADDR_DATA_12	(4096*140)
#define ADDR_DATA_13	(4096*141)
#define ADDR_DATA_14	(4096*142)
#define ADDR_DATA_15	(4096*143)
#define ADDR_DATA_16	(4096*144)
#define ADDR_DATA_17	(4096*145)
#define ADDR_DATA_18	(4096*146)
#define ADDR_DATA_19	(4096*147)
#define ADDR_DATA_20	(4096*148)
#define ADDR_DATA_21	(4096*149)
#define ADDR_DATA_22	(4096*150)
#define ADDR_DATA_23	(4096*151)
#define ADDR_DATA_24	(4096*152)
#define ADDR_DATA_25	(4096*153)
#define ADDR_DATA_26	(4096*154)
#define ADDR_DATA_27	(4096*155)
#define ADDR_DATA_28	(4096*156)
#define ADDR_DATA_29	(4096*157)
#define ADDR_DATA_30	(4096*158)
#define ADDR_DATA_31	(4096*159)
#define ADDR_DATA_32	(4096*160)
#define ADDR_DATA_33	(4096*161)
#define ADDR_DATA_34	(4096*162)
#define ADDR_DATA_35	(4096*163)
#define ADDR_DATA_36	(4096*164)
#define ADDR_DATA_37	(4096*165)
#define ADDR_DATA_38	(4096*166)
#define ADDR_DATA_39	(4096*167)
#define ADDR_DATA_40	(4096*168)
#define ADDR_DATA_41	(4096*169)
#define ADDR_DATA_42	(4096*170)
#define ADDR_DATA_43	(4096*171)
#define ADDR_DATA_44	(4096*172)
#define ADDR_DATA_45	(4096*173)
#define ADDR_DATA_46	(4096*174)
#define ADDR_DATA_47	(4096*175)
#define ADDR_DATA_48	(4096*176)
#define ADDR_DATA_49	(4096*177)
#define ADDR_DATA_50	(4096*178)
#define ADDR_DATA_51	(4096*179)
#define ADDR_DATA_52	(4096*180)
#define ADDR_DATA_53	(4096*181)
#define ADDR_DATA_54	(4096*182)
#define ADDR_DATA_55	(4096*183)
#define ADDR_DATA_56	(4096*184)
#define ADDR_DATA_57	(4096*185)
#define ADDR_DATA_58	(4096*186)
#define ADDR_DATA_59	(4096*187)
#define ADDR_DATA_60	(4096*188)
#define ADDR_DATA_61	(4096*189)
#define ADDR_DATA_62	(4096*190)
#define ADDR_DATA_63	(4096*191)
#define ADDR_DATA_64	(4096*192)
#define ADDR_DATA_65	(4096*193)
#define ADDR_DATA_66	(4096*194)
#define ADDR_DATA_67	(4096*195)
#define ADDR_DATA_68	(4096*196)
#define ADDR_DATA_69	(4096*197)
#define ADDR_DATA_70	(4096*198)
#define ADDR_DATA_71	(4096*199)
#define ADDR_DATA_72	(4096*200)
#define ADDR_DATA_73	(4096*201)
#define ADDR_DATA_74	(4096*202)
#define ADDR_DATA_75	(4096*203)
#define ADDR_DATA_76	(4096*204)
#define ADDR_DATA_77	(4096*205)
#define ADDR_DATA_78	(4096*206)
#define ADDR_DATA_79	(4096*207)
#define ADDR_DATA_80	(4096*208)
#define ADDR_DATA_81	(4096*209)
#define ADDR_DATA_82	(4096*210)
#define ADDR_DATA_83	(4096*211)
#define ADDR_DATA_84	(4096*212)
#define ADDR_DATA_85	(4096*213)
#define ADDR_DATA_86	(4096*214)
#define ADDR_DATA_87	(4096*215)
#define ADDR_DATA_88	(4096*216)
#define ADDR_DATA_89	(4096*217)
#define ADDR_DATA_90	(4096*218)
#define ADDR_DATA_91	(4096*219)
#define ADDR_DATA_92	(4096*220)
#define ADDR_DATA_93	(4096*221)
#define ADDR_DATA_94	(4096*222)
#define ADDR_DATA_95	(4096*223)
#define ADDR_DATA_96	(4096*224)
#define ADDR_DATA_97	(4096*225)
#define ADDR_DATA_98	(4096*226)
#define ADDR_DATA_99	(4096*227)
#define ADDR_DATA_100	(4096*228)
#define ADDR_DATA_101	(4096*229)
#define ADDR_DATA_102	(4096*230)
#define ADDR_DATA_103	(4096*231)
#define ADDR_DATA_104	(4096*232)
#define ADDR_DATA_105	(4096*233)
#define ADDR_DATA_106	(4096*234)
#define ADDR_DATA_107	(4096*235)
#define ADDR_DATA_108	(4096*236)
#define ADDR_DATA_109	(4096*237)
#define ADDR_DATA_110	(4096*238)
#define ADDR_DATA_111	(4096*239)
#define ADDR_DATA_112	(4096*240)
#define ADDR_DATA_113	(4096*241)
#define ADDR_DATA_114	(4096*242)
#define ADDR_DATA_115	(4096*243)
#define ADDR_DATA_116	(4096*244)
#define ADDR_DATA_117	(4096*245)
#define ADDR_DATA_118	(4096*246)
#define ADDR_DATA_119	(4096*247)
#define ADDR_DATA_120	(4096*248)
#define ADDR_DATA_121	(4096*249)
#define ADDR_DATA_122	(4096*250)
#define ADDR_DATA_123	(4096*251)
#define ADDR_DATA_124	(4096*252)
#define ADDR_DATA_125	(4096*253)
#define ADDR_DATA_126	(4096*254)
#define ADDR_DATA_127	(4096*255)
#define ADDR_DATA_128	(4096*256)
#define ADDR_DATA_129	(4096*257)
#define ADDR_DATA_130	(4096*258)
#define ADDR_DATA_131	(4096*259)
#define ADDR_DATA_132	(4096*260)
#define ADDR_DATA_133	(4096*261)
#define ADDR_DATA_134	(4096*262)
#define ADDR_DATA_135	(4096*263)
#define ADDR_DATA_136	(4096*264)
#define ADDR_DATA_137	(4096*265)
#define ADDR_DATA_138	(4096*266)
#define ADDR_DATA_139	(4096*267)
#define ADDR_DATA_140	(4096*268)
#define ADDR_DATA_141	(4096*269)
#define ADDR_DATA_142	(4096*270)
#define ADDR_DATA_143	(4096*271)
#define ADDR_DATA_144	(4096*272)
#define ADDR_DATA_145	(4096*273)
#define ADDR_DATA_146	(4096*274)
#define ADDR_DATA_147	(4096*275)
#define ADDR_DATA_148	(4096*276)
#define ADDR_DATA_149	(4096*277)
#define ADDR_DATA_150	(4096*278)
#define ADDR_DATA_151	(4096*279)
#define ADDR_DATA_152	(4096*280)
#define ADDR_DATA_153	(4096*281)
#define ADDR_DATA_154	(4096*282)
#define ADDR_DATA_155	(4096*283)
#define ADDR_DATA_156	(4096*284)
#define ADDR_DATA_157	(4096*285)
#define ADDR_DATA_158	(4096*286)
#define ADDR_DATA_159	(4096*287)
#define ADDR_DATA_160	(4096*288)
#define ADDR_DATA_161	(4096*289)
#define ADDR_DATA_162	(4096*290)
#define ADDR_DATA_163	(4096*291)
#define ADDR_DATA_164	(4096*292)
#define ADDR_DATA_165	(4096*293)
#define ADDR_DATA_166	(4096*294)
#define ADDR_DATA_167	(4096*295)
#define ADDR_DATA_168	(4096*296)
#define ADDR_DATA_169	(4096*297)
#define ADDR_DATA_170	(4096*298)
#define ADDR_DATA_171	(4096*299)
#define ADDR_DATA_172	(4096*300)
#define ADDR_DATA_173	(4096*301)
#define ADDR_DATA_174	(4096*302)
#define ADDR_DATA_175	(4096*303)
#define ADDR_DATA_176	(4096*304)
#define ADDR_DATA_177	(4096*305)
#define ADDR_DATA_178	(4096*306)
#define ADDR_DATA_179	(4096*307)
#define ADDR_DATA_180	(4096*308)
#define ADDR_DATA_181	(4096*309)
#define ADDR_DATA_182	(4096*310)
#define ADDR_DATA_183	(4096*311)
#define ADDR_DATA_184	(4096*312)
#define ADDR_DATA_185	(4096*313)
#define ADDR_DATA_186	(4096*314)
#define ADDR_DATA_187	(4096*315)
#define ADDR_DATA_188	(4096*316)
#define ADDR_DATA_189	(4096*317)
#define ADDR_DATA_190	(4096*318)
#define ADDR_DATA_191	(4096*319)
#define ADDR_DATA_192	(4096*320)
#define ADDR_DATA_193	(4096*321)
#define ADDR_DATA_194	(4096*322)
#define ADDR_DATA_195	(4096*323)
#define ADDR_DATA_196	(4096*324)
#define ADDR_DATA_197	(4096*325)
#define ADDR_DATA_198	(4096*326)
#define ADDR_DATA_199	(4096*327)
#define ADDR_DATA_200	(4096*328)
#define ADDR_DATA_201	(4096*329)
#define ADDR_DATA_202	(4096*330)
#define ADDR_DATA_203	(4096*331)
#define ADDR_DATA_204	(4096*332)
#define ADDR_DATA_205	(4096*333)
#define ADDR_DATA_206	(4096*334)
#define ADDR_DATA_207	(4096*335)
#define ADDR_DATA_208	(4096*336)
#define ADDR_DATA_209	(4096*337)
#define ADDR_DATA_210	(4096*338)
#define ADDR_DATA_211	(4096*339)
#define ADDR_DATA_212	(4096*340)
#define ADDR_DATA_213	(4096*341)
#define ADDR_DATA_214	(4096*342)
#define ADDR_DATA_215	(4096*343)
#define ADDR_DATA_216	(4096*344)
#define ADDR_DATA_217	(4096*345)
#define ADDR_DATA_218	(4096*346)
#define ADDR_DATA_219	(4096*347)
#define ADDR_DATA_220	(4096*348)
#define ADDR_DATA_221	(4096*349)
#define ADDR_DATA_222	(4096*350)
#define ADDR_DATA_223	(4096*351)
#define ADDR_DATA_224	(4096*352)
#define ADDR_DATA_225	(4096*353)
#define ADDR_DATA_226	(4096*354)
#define ADDR_DATA_227	(4096*355)
#define ADDR_DATA_228	(4096*356)
#define ADDR_DATA_229	(4096*357)
#define ADDR_DATA_230	(4096*358)
#define ADDR_DATA_231	(4096*359)
#define ADDR_DATA_232	(4096*360)
#define ADDR_DATA_233	(4096*361)
#define ADDR_DATA_234	(4096*362)
#define ADDR_DATA_235	(4096*363)
#define ADDR_DATA_236	(4096*364)
#define ADDR_DATA_237	(4096*365)
#define ADDR_DATA_238	(4096*366)
#define ADDR_DATA_239	(4096*367)
#define ADDR_DATA_240	(4096*368)
#define ADDR_DATA_241	(4096*369)
#define ADDR_DATA_242	(4096*370)
#define ADDR_DATA_243	(4096*371)
#define ADDR_DATA_244	(4096*372)
#define ADDR_DATA_245	(4096*373)
#define ADDR_DATA_246	(4096*374)
#define ADDR_DATA_247	(4096*375)
#define ADDR_DATA_248	(4096*376)
#define ADDR_DATA_249	(4096*377)
#define ADDR_DATA_250	(4096*378)
#define ADDR_DATA_251	(4096*379)
#define ADDR_DATA_252	(4096*380)
#define ADDR_DATA_253	(4096*381)
#define ADDR_DATA_254	(4096*382)
#define ADDR_DATA_255	(4096*383)



//从第1536K开始存放bin文件，用于设备的升级使用，如果不需要可以将其划入数据保存区
#define ADDR_BIN_CFG				(4096*384)		//第384个扇区开始存放BIN配置文件,占用4K字节
#define ADDR_BIN						(4096*385)		//第385个扇区开始存放BIN文件,共64个扇区,占用256K字节
#define ADDR_BIN_BAK_CFG		(4096*449)		//第449个扇区开始存放BIN备份配置文件,占用4K字节。
#define ADDR_BIN_BAK				(4096*450)		//第449个扇区开始存放BIN备份配置文件,248K字节。
//flash分配完毕。

//公共变量
extern u8 Data_Sr[256];


//函数声明
void Read_Data_SR(void);
void Flash_Data_Erase(int i);
void Flash_ALLData_Erase(void);
void Flash_InsertData(int i,u8* Data_Buffer,int j);
#endif
